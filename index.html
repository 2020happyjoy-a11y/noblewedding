<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>노블웨딩 | 회원 등록 신청</title>
  <style>
    :root{
      --bg: #f7f5f2;
      --card: #ffffff;
      --text: #222;
      --muted: #6f6f6f;
      --gold: #d4af37;
      --gold-dark: #b8962d;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: "Noto Sans KR", "Pretendard", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background: var(--bg);
      color: var(--text);
      line-height:1.6;
      padding:40px 20px;
      -webkit-font-smoothing:antialiased;
    }

    .wrap{
      max-width:900px;
      margin:0 auto;
    }

    .card{
      background:var(--card);
      border-radius:16px;
      padding:36px 42px;
      box-shadow: 0 8px 30px rgba(17,17,17,0.06);
    }

    header{
      text-align:center;
      margin-bottom:18px;
    }
    header h1{
      margin:0;
      font-size:28px;
      font-weight:700;
      letter-spacing:1px;
    }

    /* title image (bride & groom silhouette) */
    .title-art{
      display:flex;
      justify-content:center;
      margin-top:14px;
      margin-bottom:30px;
    }
    .title-art svg{
      width:92px;
      height:92px;
      fill:none;
      stroke:var(--gold);
      stroke-width:2;
      stroke-linecap:round;
      stroke-linejoin:round;
      opacity:0.95;
    }

    /* section title */
    .section {
      margin-top:28px;
    }
    .section .section-title {
      display:block;
      font-weight:600;
      font-size:18px;
      color:var(--text);
      margin-bottom:12px;
    }
    .section .gold-line {
      height:4px;
      width:60px;
      background: linear-gradient(90deg, transparent, var(--gold), transparent);
      border-radius:2px;
      margin-bottom:18px;
    }
    .muted {
      color:var(--muted);
      font-size:0.95rem;
      margin-bottom:10px;
      display:block;
    }

    /* form elements */
    form label {
      display:block;
      font-weight:600;
      margin-bottom:8px;
      color:var(--text);
      font-size:0.95rem;
    }
    .form-row {
      display:flex;
      gap:12px;
    }
    input[type="text"], select, input[type="file"] {
      width:100%;
      padding:11px 12px;
      border:1px solid #e2e2e2;
      border-radius:10px;
      font-size:1rem;
      background:#fafafa;
    }
    input[type="file"] {
      padding:8px 10px;
      background:#fcfbfa;
    }
    .small-note{
      font-size:0. nine rem;
    }

    /* profile area */
    .profile-area{
      display:flex;
      gap:20px;
      align-items:center;
      margin-bottom:18px;
    }
    .profile-preview{
      width:120px;
      height:120px;
      border-radius:50%;
      overflow:hidden;
      border:3px solid var(--gold);
      background:#fff;
      display:flex;
      align-items:center;
      justify-content:center;
      box-shadow:0 6px 18px rgba(0,0,0,0.05);
      flex:0 0 120px;
    }
    .profile-preview img{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
    }
    .profile-inputs{
      flex:1;
    }
    .profile-inputs .single-file{
      display:flex;
      gap:10px;
      margin-bottom:8px;
    }
    .profile-inputs .single-file input[type="file"]{
      flex:1;
    }
    .note {
      color:var(--muted);
      font-size:0.92rem;
      margin-top:6px;
    }

    /* horizontal file group for properties */
    .file-row {
      display:flex;
      gap:12px;
    }
    .file-row .file-box {
      flex:1;
    }

    /* submit */
    .actions{
      margin-top:28px;
    }
    button[type="submit"]{
      width:100%;
      background:var(--gold);
      color:white;
      border:0;
      padding:14px 16px;
      font-size:1rem;
      border-radius:10px;
      cursor:pointer;
      font-weight:600;
    }
    button[type="submit"]:hover{ background:var(--gold-dark); }

    /* small responsive tweak */
    @media (max-width:780px){
      .card{ padding:20px; }
      .profile-area{ flex-direction:column; align-items:flex-start; }
      .profile-preview{ margin-bottom:8px; }
      .file-row{ flex-direction:column; }
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <header>
        <h1>회원 등록 신청</h1>
        <div class="title-art" aria-hidden="true">
          <!-- minimal bride & groom silhouette in gold stroke -->
          <svg viewBox="0 0 120 120" role="img" aria-label="bride and groom silhouette">
            <g transform="translate(10,8)">
              <path d="M20 70 C18 52 28 38 48 38 C68 38 78 52 76 70" />
              <path d="M30 36 C30 22 42 12 48 12 C54 12 66 22 66 36" />
              <path d="M6 86 C6 66 18 56 30 56 C42 56 54 66 54 86" />
              <path d="M72 86 C72 66 84 56 96 56 C108 56 120 66 120 86" />
            </g>
          </svg>
        </div>
      </header>

      <form id="regForm" onsubmit="return handleSubmit(event)">

        <!-- BASIC INFO -->
        <section class="section" aria-labelledby="basic-title">
          <div id="basic-title" class="section-title">기본 정보</div>
          <div class="gold-line" aria-hidden="true"></div>

          <div class="profile-area">
            <div class="profile-preview" id="profilePreview">
              <img id="profileImage" src="https://cdn-icons-png.flaticon.com/512/847/847969.png" alt="프로필 미리보기">
            </div>

            <div class="profile-inputs">
              <label for="profile1">프로필 사진 1</label>
              <div class="single-file">
                <input id="profile1" type="file" accept="image/*">
              </div>

              <label for="profile2">프로필 사진 2</label>
              <div class="single-file">
                <input id="profile2" type="file" accept="image/*">
              </div>

              <label for="profile3">프로필 사진 3</label>
              <div class="single-file">
                <input id="profile3" type="file" accept="image/*">
              </div>

              <div class="note">※ 첫 번째 사진이 상단 미리보기로 표시됩니다.</div>
            </div>
          </div>

          <label for="name">이름</label>
          <input id="name" type="text" placeholder="이름을 입력하세요" required>

          <label for="birth">생년월일</label>
          <input id="birth" type="text" placeholder="YYYY-MM-DD" maxlength="10" required>

          <label for="gender">성별</label>
          <select id="gender" required>
            <option value="">선택하세요</option>
            <option value="남성">남성</option>
            <option value="여성">여성</option>
          </select>

          <label for="job">직업</label>
          <input id="job" type="text" placeholder="직업을 입력하세요">

          <label for="address">거주지</label>
          <input id="address" type="text" placeholder="예: 서울특별시 강남구">

          <label for="phone">휴대폰 번호</label>
          <input id="phone" type="text" placeholder="010-0000-0000" maxlength="13" required>
        </section>

        <!-- IDENTITY -->
        <section class="section" aria-labelledby="id-title">
          <div id="id-title" class="section-title">신분 정보</div>
          <div class="gold-line" aria-hidden="true"></div>

          <label for="familyDoc">가족관계증명서</label>
          <span class="muted">가족관계증명서 (상세, 정부24 발급)</span>
          <input id="familyDoc" type="file" accept=".pdf,.jpg,.png,.jpeg">

          <label for="marriageDoc">혼인관계증명서</label>
          <span class="muted">혼인관계증명서 (상세, 정부24 발급)</span>
          <input id="marriageDoc" type="file" accept=".pdf,.jpg,.png,.jpeg">

          <label for="workDoc">재직증명서 / 사업자등록증</label>
          <span class="muted">재직증명서(금융기관제출용) 또는 사업자등록증 중 택1</span>
          <input id="workDoc" type="file" accept=".pdf,.jpg,.png,.jpeg">
        </section>

        <!-- ASSET -->
        <section class="section" aria-labelledby="asset-title">
          <div id="asset-title" class="section-title">재산 정보</div>
          <div class="gold-line" aria-hidden="true"></div>

          <label for="income1">소득관련서류</label>
          <span class="muted">원천징수영수증 또는 과세표준증명서 제출. (소득이 여러 개인 경우 각각 첨부)</span>
          <div class="file-row" style="margin-bottom:14px">
            <div class="file-box"><input id="income1" type="file" accept=".pdf,.jpg,.png,.jpeg"></div>
            <div class="file-box"><input id="income2" type="file" accept=".pdf,.jpg,.png,.jpeg"></div>
          </div>

          <label>부동산 (등기부등본)</label>
          <span class="muted">등기사항전부증명서(전부사항증명서) - 공동담보·매매목록·요약 포함</span>
          <div class="file-row" style="margin-bottom:14px">
            <div class="file-box"><input id="prop1" type="file" accept=".pdf,.jpg,.png,.jpeg"></div>
            <div class="file-box"><input id="prop2" type="file" accept=".pdf,.jpg,.png,.jpeg"></div>
            <div class="file-box"><input id="prop3" type="file" accept=".pdf,.jpg,.png,.jpeg"></div>
          </div>

          <label>차량 (차량등록원부)</label>
          <div class="file-row" style="margin-bottom:14px">
            <div class="file-box"><input id="car1" type="file" accept=".pdf,.jpg,.png,.jpeg"></div>
            <div class="file-box"><input id="car2" type="file" accept=".pdf,.jpg,.png,.jpeg"></div>
          </div>

          <label for="otherAsset">기타 경제력 관련 서류</label>
          <span class="muted">보유 자산 증빙 자료 (현금성 자산 등은 잔액 및 예금주 확인 가능한 증빙자료 제출)</span>
          <input id="otherAsset" type="file" accept=".pdf,.jpg,.png,.jpeg">
        </section>

        <div class="actions">
          <button type="submit">제출하기</button>
        </div>
      </form>
    </div>
  </div>

  <script>
    // 하이픈 처리: 사용자가 '-'를 직접 입력하면 유지, 그렇지 않으면 자동 포맷
    function formatBirthRaw(raw) {
      // keep digits and hyphen
      raw = raw.replace(/[^0-9-]/g, '');
      // if user inserted any '-' manually, do not override their exact positions,
      // but ensure length won't exceed format 4-2-2
      if (raw.indexOf('-') !== -1) {
        // collapse multiple hyphens
        raw = raw.replace(/-+/g,'-');
        // trim to max length 10
        return raw.slice(0,10);
      }
      // otherwise auto-insert
      const digits = raw.replace(/\D/g, '').slice(0,8);
      if (digits.length <= 4) return digits;
      if (digits.length <= 6) return digits.slice(0,4) + '-' + digits.slice(4);
      return digits.slice(0,4) + '-' + digits.slice(4,6) + '-' + digits.slice(6,8);
    }
    function formatPhoneRaw(raw) {
      raw = raw.replace(/[^0-9-]/g,'');
      if (raw.indexOf('-') !== -1) {
        raw = raw.replace(/-+/g,'-');
        return raw.slice(0,13);
      }
      const d = raw.replace(/\D/g,'').slice(0,11);
      if (d.length <= 3) return d;
      if (d.length <= 7) return d.slice(0,3) + '-' + d.slice(3);
      return d.slice(0,3) + '-' + d.slice(3,7) + '-' + d.slice(7,11);
    }

    const birthEl = document.getElementById('birth');
    const phoneEl = document.getElementById('phone');

    birthEl.addEventListener('input', function(e){
      const cur = e.target.value;
      e.target.value = formatBirthRaw(cur);
    });

    phoneEl.addEventListener('input', function(e){
      const cur = e.target.value;
      e.target.value = formatPhoneRaw(cur);
    });

    // PROFILE preview: when profile1 selected, preview; keep each file input separate
    const profile1 = document.getElementById('profile1');
    const profileImage = document.getElementById('profileImage');

    profile1.addEventListener('change', function(e){
      const f = e.target.files && e.target.files[0];
      if (!f) return;
      const reader = new FileReader();
      reader.onload = function(ev){ profileImage.src = ev.target.result; };
      reader.readAsDataURL(f);
    });

    // SUBMIT behavior: show confirm (수정할래?) flow
    function handleSubmit(evt){
      evt.preventDefault();
      // simple client-side validation example: name required
      const name = document.getElementById('name').value.trim();
      if (!name) { alert('이름을 입력해주세요.'); return false; }

      const proceed = confirm('제출이 완료되었습니다.\n나중에 내용을 수정하시겠습니까?\n\n[확인] → 수정하러 가기\n[취소] → 제출 완료 처리');
      if (proceed) {
        // user wants to edit: simply show message and keep form enabled
        alert('수정 화면으로 돌아갑니다. 내용을 수정한 다음 다시 제출해 주세요.');
        return false;
      } else {
        // finalize: disable form inputs to simulate "submitted" state
        const form = document.getElementById('regForm');
        const elements = form.querySelectorAll('input, select, button');
        elements.forEach(el => {
          if (el.tagName.toLowerCase() === 'button') {
            el.textContent = '제출 완료';
          }
          el.disabled = true;
        });
        // Optionally show a friendly message
        setTimeout(()=> alert('제출이 완료되었습니다. 운영자가 확인한 뒤 연락드리겠습니다.'), 200);
        return false;
      }
    }
  </script>
</body>
</html>
