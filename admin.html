<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <title>ìš´ì˜ì í˜ì´ì§€</title>

    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
        }
        h2 {
            color: #333;
        }
        .member-box {
            border: 1px solid #aaa;
            padding: 10px;
            margin-bottom: 10px;
            border-radius: 6px;
        }
    </style>
</head>

<body>
    <h2>ğŸ“‹ íšŒì› ë¦¬ìŠ¤íŠ¸ (Firestoreì—ì„œ ë¶ˆëŸ¬ì˜¤ê¸°)</h2>

    <div id="memberList">
        <p>â³ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</p>
    </div>

    <!-- Firebase SDK -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
        import { getFirestore, collection, getDocs } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

        // ğŸ”¹ Firebase ì„¤ì • (ì •ì€ì˜ í”„ë¡œì íŠ¸ ì„¤ì •)
        const firebaseConfig = {
          apiKey: "AIzaSyAfWEFCYDB9UQ-NktaR-CkjQGXOxPc6lMY",
          authDomain: "noble-wedding.firebaseapp.com",
          projectId: "noble-wedding",
          storageBucket: "noble-wedding.firebasestorage.app",
          messagingSenderId: "242816725640",
          appId: "1:242816725640:web:abc5dcfce08367789a653d"
        };

        // ğŸ”¹ Firebase ì´ˆê¸°í™”
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        // ğŸ”¹ Firestoreì—ì„œ members ë°ì´í„° ì½ì–´ì˜¤ê¸°
        async function loadMembers() {
            const listBox = document.getElementById("memberList");
            listBox.innerHTML = "<p>â³ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</p>";

            try {
                const querySnapshot = await getDocs(collection(db, "members"));

                if (querySnapshot.empty) {
                    listBox.innerHTML = "<p>ë“±ë¡ëœ íšŒì›ì´ ì•„ì§ ì—†ìŠµë‹ˆë‹¤.</p>";
                    return;
                }

                listBox.innerHTML = ""; // ë¦¬ìŠ¤íŠ¸ ì´ˆê¸°í™”

                querySnapshot.forEach((doc) => {
                    const data = doc.data();
                    const box = document.createElement("div");
                    box.className = "member-box";

                    box.innerHTML = `
                        <strong>ì´ë¦„:</strong> ${data.name} <br>
                        <strong>ì†Œê°œ:</strong> ${data.intro || "ì†Œê°œ ì—†ìŒ"} <br>
                        <small style="color:#888;">ID: ${doc.id}</small>
                    `;

                    listBox.appendChild(box);
                });

            } catch (error) {
                console.error("ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸° ì‹¤íŒ¨:", error);
                listBox.innerHTML = "<p style='color:red;'>ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸° ì‹¤íŒ¨!</p>";
            }
        }

        // í™”ë©´ ì—´ë¦¬ë©´ ìë™ ì‹¤í–‰
        loadMembers();
    </script>
</body>
</html>
